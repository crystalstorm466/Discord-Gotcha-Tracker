cmake_minimum_required(VERSION 3.22)
project(discord-bot VERSION 1.0 DESCRIPTION "A discord bot")

list(APPEND CMAKE_MODULE_PATH ${CMAKE_CURRENT_SOURCE_DIR}/cmake)

#find_package(DPP REQUIRED)
find_package(OpenSSL REQUIRED)
find_package(OpenXLSX REQUIRED)
# Include directories
# Manual DPP configuration (using paths we found)
set(DPP_INCLUDE_DIR "/home/david/vcpkg/installed/x64-linux/include")
set(DPP_LIBRARY "/home/david/vcpkg/installed/x64-linux/lib/libdpp.so")

add_executable(${PROJECT_NAME} src/main.cpp)
add_executable(getmembers src/getmembers.cpp)
# Include directories
target_include_directories(${PROJECT_NAME} PRIVATE
    ${DPP_INCLUDE_DIR}
    ${XLSXWRITER_INCLUDE_DIRS}
)

# Link libraries
target_link_libraries(${PROJECT_NAME} PRIVATE
    ${DPP_LIBRARY}
    OpenXLSX::OpenXLSX
    OpenSSL::SSL
    OpenSSL::Crypto
)

set_target_properties(${PROJECT_NAME} PROPERTIES
    CXX_STANDARD 20
    CXX_STANDARD_REQUIRED ON
) 
